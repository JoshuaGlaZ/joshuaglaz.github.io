---
layout: post
title: GSoC 2024 - Week 3 Progress
subtitle: "Implementing code_component Visualization"
tags: [GSoC, Weekly Report]
readtime: true
comments: true
mathjax: true
---

---

# Trial AST

This week, my focus shifted towards implementing the Trial Graph Visualization based on `code_component`, structured in the form of an Abstract Syntax Tree (AST). 
Initially, nitially, I began by reading the source code directly to reference the desired output format. 
This first step was crucial as it allowed me to understand the structure and layout of the AST representation of the code components. 
The format of the graph is in DOT using Graphviz for simplicity in development. The implementation is based on a separate codebase to avoid abstraction at this stage of development.

![Correct AST Graph](../assets/img/ast_read().png "Correct AST Graph")

After gaining a solid understanding of the desired output format, I transitioned to developing the AST visualization using data queried directly from the database. 
This involved querying code_components from the database, carefully filtering out entries where `type` is not equal to "`syntax`". 
Similarly, for compositions, I filtered out entries where `type` is not equal to "`*op_pos`", as these types do not contribute to the construction of AST nodes. 
By targeting only the necessary attributes, the process should be more efficient and effective for AST visualization

---

# Undesired Labels
While visualizing the graph, I encountered several challenges related to formatting the AST output according to the desired labels for each node. 
Despite successfully capturing the necessary data and constructing the AST, achieving the expected label output proved to be more complicated than anticipated.

The main issue lies in debugging the structure of the newly constructed AST to better visualize the label output of the actual code snippet. 
Ideally, the code snippet should contain the value of each child node, providing a clearer and more accurate representation of the source code.

Notably, the undesired labels only occurred on recursive nodes such as `Assign` and `FunctionDef`, whereas `Constant`, `Value`, and `Import` nodes are working quite fine.

![Incorrect AST Graph](../assets/img/ast_database.png "Incorrect AST Graph")

Currently, the AST captures the data sufficiently, but the visualization remains raw and unrefined. 
As a next step, I plan to enhance the AST by adding more Python constructs, such as classes and try-catch statements, to provide a better coverage of scripts.

Despite these difficulties, I am confident that with further debugging and refinement, the AST visualization will meet the desired outputs.

---

Moving forward, I plan to integrate the developed Trial Graph Visualization into noWorkFlow. Additionally, I aim to utilize the structured diagrams in `vis.py` to enhance the visualization output.
